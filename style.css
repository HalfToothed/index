/* ============================================
   INDEX — Dark Editorial Design System
   DM Serif Display + IBM Plex Sans + IBM Plex Mono
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=IBM+Plex+Mono:wght@400;500&display=swap');

/* ============================================
   Variables
   ============================================ */
:root {
  --bg:             #0C0C0C;
  --bg-lift:        #141414;
  --bg-card:        #181818;
  --border:         #2A2A2A;
  --border-light:   #1E1E1E;
  --text-primary:   #EDEBE6;
  --text-secondary: #b5b4b1;
  --text-dim:       #7f7b77;

  /* Category accent rail colors */
  --accent-armed:         #B03A2E;
  --accent-law:           #2471A3;
  --accent-disasters:     #A67C00;
  --accent-politics:      #1E8449;
  --accent-science:       #7D3C98;
  --accent-sports:        #C0632A;
  --accent-international: #F472B6;
  --accent-default:       #e5e5e5;

  --font-display: 'DM Serif Display', Georgia, serif;
  --font-sans:    'IBM Plex Sans', 'Helvetica Neue', sans-serif;
  --font-mono:    'IBM Plex Mono', monospace;

  --space:      8px;
  --radius:     3px;
  --max-width:  680px;
  --padding:    24px;
  --t:          160ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   Reset & Base
   ============================================ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; -webkit-text-size-adjust: 100%; }
body {
  background: var(--bg);
  color: var(--text-primary);
  font-family: var(--font-sans);
  font-weight: 400;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
}
a { color: inherit; text-decoration: none; }
ul, ol { list-style: none; }
img { display: block; max-width: 100%; }

/* ============================================
   Container
   ============================================ */
.container {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--padding) 80px;
}

/* ============================================
   Masthead  (.masthead or use your .header h1)
   ============================================ */
.masthead {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: calc(var(--space)*4) 0 calc(var(--space)*3);
  border-bottom: 1px solid var(--border);
  gap: 16px;
}

.masthead h1 {
  font-family: var(--font-display);
  font-style: italic;
  font-size: clamp(44px, 10vw, 68px);
  font-weight: 400;
  letter-spacing: -0.025em;
  line-height: 0.9;
  color: var(--text-primary);
  flex-shrink: 0;
}

/* If reusing .header for the masthead */
.indexHeader,
.header:has(h1) {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: calc(var(--space)*4) 0 calc(var(--space)*3);
  border-bottom: 1px solid var(--border);
}

.indexHeader h1,
.header h1 {
  font-family: var(--font-display);
  font-style: italic;
  font-size: clamp(44px, 10vw, 68px);
  font-weight: 400;
  letter-spacing: -0.025em;
  line-height: 0.9;
  color: var(--text-primary);
}

/* ============================================
   Topics Panel  (#news)
   ============================================ */
#news {
  margin-top: calc(var(--space)*4);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}

.newsHeader {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--text-dim);
  padding: calc(var(--space)*1.5) calc(var(--space)*2);
  background: var(--bg-lift);
  border-bottom: 1px solid var(--border);
}

#newsList li {
  font-size: 13.5px;
  font-weight: 400;
  line-height: 1.5;
  color: var(--text-primary);
  padding: calc(var(--space)*1.5) calc(var(--space)*2) calc(var(--space)*1.5) calc(var(--space)*4);
  border-bottom: 1px solid var(--border-light);
  position: relative;
  background: var(--bg-card);
  transition: background var(--t), color var(--t);
  cursor: default;
}

#newsList li:last-child { border-bottom: none; }

#newsList li::before {
  content: '';
  position: absolute;
  left: calc(var(--space)*2);
  top: calc(var(--space)*2.4);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--text-dim);
  transition: background var(--t);
}

#newsList li:hover { background: var(--bg-lift); color: var(--text-primary); }
#newsList li:hover::before { background: var(--text-primary); }

/* Image strip at bottom of #news */
.img {
  display: flex;
  align-items: center;
  gap: calc(var(--space)*1.5);
  padding: calc(var(--space)*1.5) calc(var(--space)*2);
  background: var(--bg-lift);
  border-top: 1px solid var(--border);
}

.img img {
  width: 52px;
  height: 65px;
  object-fit: cover;
  object-position: top center;
  border-radius: var(--radius);
  filter: grayscale(25%) contrast(1.05);
  flex-shrink: 0;
}

.caption {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--text-dim);
  line-height: 1.6;
  letter-spacing: 0.04em;
}

/* ============================================
   Date Landmark  (.date-section)
   For your existing HTML, also targets .header:has(.date)
   ============================================ */
.date-section,
.header:has(.date) {
  position: relative;
  margin-top: calc(var(--space)*6);
  padding: calc(var(--space)*2) 0;
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  overflow: hidden;
}

/* Remove the conflicting masthead border style from date headers */
.header:has(.date) {
  border-left: none;
  background: transparent;
  display: block;
}

.date-label,
.header .date {
  position: relative;
  z-index: 2;
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  text-align: center;
  color: var(--accent-default);
  line-height: 1;
  padding: 0;
}

.date-label .weekday,
.header .date .weekday {
  color: var(--text-primary);
}

/* Ghost number — add <div class="date-ghost">19</div>
   inside each .date-section or .header:has(.date) */
.date-ghost {
  position: absolute;
  right: -10px;
  top: 50%;
  transform: translateY(-50%);
  font-family: var(--font-display);
  font-style: italic;
  font-size: 96px;
  font-weight: 400;
  line-height: 1;
  color: var(--text-primary);
  opacity: 0.05;
  pointer-events: none;
  user-select: none;
  white-space: nowrap;
  letter-spacing: -0.04em;
  z-index: 1;
}

/* ============================================
   Category Sections
   ============================================ */
.category-section {
  margin-top: calc(var(--space)*2);
  padding-left: 12px;
  border-left: 2px solid var(--accent-default);
}

/* Add these classes to your .category-section divs */
.Armedconflictsandattacks         { border-left-color: var(--accent-armed); }
.Lawandcrime           { border-left-color: var(--accent-law); }
.Disastersandaccidents     { border-left-color: var(--accent-disasters); }
.Politicsandelections      { border-left-color: var(--accent-politics); }
.Healthandenvironment       { border-left-color: var(--accent-science); }
.Sports        { border-left-color: var(--accent-sports); }
.Internationalrelations { border-left-color: var(--accent-international); }

.category-header {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--text-secondary);
  padding: calc(var(--space)*2) 0 calc(var(--space)*1.25);
}

/* ============================================
   Event Cards
   ============================================ */
.event {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: calc(var(--space)*2.5);
  margin-bottom: calc(var(--space)*1.5);
  cursor: pointer;
  transition: border-color var(--t), background var(--t);
}

.event:hover { background: var(--bg-lift); border-color: #363636; }
.event:active { opacity: 0.6; transition-duration: 70ms; }

/* Event title (subsection label) */
.event-title {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-dim);
  padding-bottom: calc(var(--space)*1.25);
  margin-bottom: calc(var(--space)*1.25);
  border-bottom: 1px solid var(--border-light);
}
.event-title:empty { display: none; }

/* First story = DM Serif headline */
/* .event > .event-text:first-of-type {
  font-family: var(--font-display);
  font-size: 19px;
  font-weight: 400;
  line-height: 1.35;
  letter-spacing: -0.01em;
  color: var(--text-primary);
  margin-bottom: calc(var(--space)*1.5);
} */

/* Additional stories in same event block */
.event-text {
  font-size: 13.5px;
  font-weight: 400;
  line-height: 1.6;
  color: var(--text-primary);
  padding-top: calc(var(--space)*1.5);
  margin-top: calc(var(--space)*1);
  border-top: 1px solid var(--border-light);
  margin-bottom: calc(var(--space)*1);
}

/* ============================================
   Source Badges
   ============================================ */
.source-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-family: var(--font-mono);
  font-size: 9.5px;
  font-weight: 400;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: var(--text-dim);
  background: var(--bg-lift);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 3px 10px 3px 8px;
  margin-right: 5px;
  margin-top: 8px;
  transition: color var(--t), border-color var(--t);
}

.source-badge::before {
  content: '';
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--text-dim);
  flex-shrink: 0;
  transition: background var(--t);
}

.source-badge:hover { color: var(--text-secondary); border-color: #404040; }
.source-badge:hover::before { background: var(--text-secondary); }

/* ============================================
   Animations
   ============================================ */
@media (prefers-reduced-motion: no-preference) {
  .event {
    opacity: 0;
    transform: translateY(12px);
    animation: up 300ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: 60ms;
  }
  .event:nth-child(2) { animation-delay: 110ms; }
  .event:nth-child(3) { animation-delay: 160ms; }
  .event:nth-child(4) { animation-delay: 210ms; }
  .event:nth-child(5) { animation-delay: 260ms; }

  #newsList li {
    opacity: 0;
    transform: translateX(-8px);
    animation: right 250ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
  }
  #newsList li:nth-child(1) { animation-delay: 30ms; }
  #newsList li:nth-child(2) { animation-delay: 70ms; }
  #newsList li:nth-child(3) { animation-delay: 110ms; }
  #newsList li:nth-child(4) { animation-delay: 150ms; }

  .date-section,
  .header:has(.date) {
    opacity: 0;
    animation: fade 400ms ease forwards;
    animation-delay: 20ms;
  }

  @keyframes up    { to { opacity: 1; transform: translateY(0); } }
  @keyframes right { to { opacity: 1; transform: translateX(0); } }
  @keyframes fade  { to { opacity: 1; } }
}

/* ============================================
   Responsive
   ============================================ */
@media (min-width: 720px) {
  :root { --padding: 36px; }
  .event > .event-text:first-of-type { font-size: 21px; }
  .date-ghost { font-size: 120px; }
}

@media (max-width: 400px) {
  .event > .event-text:first-of-type { font-size: 17px; }
  .date-ghost { font-size: 72px; }
}